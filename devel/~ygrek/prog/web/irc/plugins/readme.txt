\ $Id$

—ловарь BOT-COMMANDS содержит все команды которые будет воспринимать бот.
Ћогика обработки - каждое сообщение IRC парситс€ в контексте этого словар€
привычным дл€ форта образом. ≈сли слово найдено - оно выполн€етс€. —амо сообщение
доступно как входной поток, т.е. можно PARSE-ить и анализировать. ¬се слова
которых нет в этом словаре прерывают обработку.
“аким образом дл€ того чтобы добавить реакцию на команду !say :

MODULE: BOT-COMMANDS \ будем добавл€ть слова в словарь BOT-COMMANDS

: !say
   0 PARSE \ выбираем всЄ сообщение
   FINE-HEAD FINE-TAIL \ чистим пробелы с хвоста и с начала
   ?DUP IF DROP S" „то сказать?" THEN \ ответ по умолчанию на пустую строку
   S-REPLY \ отвечаем
   ;
   
;MODULE \ закрываем словарь

¬ыполн€ть какие-то действи€ при коннекте к серверу можно в scatcoln'е AT-CONNECT :

..: AT-CONNECT S" I am connected" S" owner" S-SAY-TO ;.. \ отправить сообщение пользователю owner

ƒействи€ :
S-SAY ( a u -- ) \ отправить сообщение в канал (работает только после команды JOIN)
S-SAY-TO ( a u user-a user-u -- ) \ отправить сообщение конкретному пользователю
S-NOTICE-TO ( a u user-a user-u -- ) \ нотисом
S-REPLY ( a u -- ) \ ответить в контекст общени€
S-NOTICE-REPLY ( a u -- ) \ нотисом

message-sender ( -- a u ) \ отправитель обрабатываемого сообщени€


ƒл€ того чтобы добавить помощь по команде (!help !say):

MODULE: BOT-COMMANDS-HELP
: !say S" Usage: !say <message> - bot will reply <message>" S-REPLY ;
;MODULE

