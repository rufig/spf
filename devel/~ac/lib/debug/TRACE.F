VARIABLE DEBUG
: THROW DEBUG @ IF DUP IF CR ." THROW:" DUP . CR THEN THEN ;
: DebugOn   TRUE DEBUG ! ;
: DebugOff FALSE DEBUG ! ;

WINAPI: HeapValidate KERNEL32.DLL
: VTH
  0 0 THREAD-HEAP @ HeapValidate 0= IF CR ." HEAP_CORRUPTED!" CR BYE THEN
;
: DEBUG.
  DEBUG @
  IF (.") ." :" VTH SPACE 
  ELSE DROP
  THEN
;  

: :
  :
  LATEST POSTPONE LITERAL
  POSTPONE DEBUG. 
;